### 镜像制作

1. docker build本质是c/s架构，所有命令其实都是远程调用docker engine上执行的，使用的是上下文路径是当前目录的相对路径，所以绝对路径是不通用的，有需要的话，先把文件弄到docker执行目录下。
2. 制作的镜像体积是根据上下文目录来算的，所以为控制镜像大小，请务必保持上下文路径的干净，不要有其他无关文件。实在要放在当前目录且不方便删除的话，请写入到.dockerignore文件。
3. 为保持镜像可控，不要用docker commit修改镜像。
4. Dockerfile不是shell脚本，一行就是一层文件，单个镜像文件层数有上限，请务必保持尽量少的层数，多行linux语句可以用&&拼接起来。
   - 假设有三行，分别执行add delete add，操作对象为一个100M的资源，最终镜像打出来是300M
5. Dockerfile语句中，可以的话尽量用COPY替代ADD，仅当需要复制并解压时用ADD，另外用COPY注意好文件权限。

